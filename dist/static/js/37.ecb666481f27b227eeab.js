webpackJsonp([37],{"4rco":function(t,e,n){var a=n("50Ss");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("2234620a",a,!1,{})},"50Ss":function(t,e,n){(t.exports=n("FZ+f")(!0)).push([t.i,"\n.edit-box[data-v-13fcc428] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n}\n.edit-box .content[data-v-13fcc428] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    width: 60%;\n    max-width: 600px;\n}\n.edit-box .content .submit[data-v-13fcc428] {\n      display: block;\n      margin: 20px auto 0;\n      width: 200px;\n}\n","",{version:3,sources:["D:/git/vue-manage/src/pages/love/commonProblems.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,UAAU;EACV,+BAA+B;EAC/B,WAAW;CACZ;AACD;IACI,mBAAmB;IACnB,UAAU;IACV,SAAS;IACT,yCAAyC;YACjC,iCAAiC;IACzC,WAAW;IACX,iBAAiB;CACpB;AACD;MACM,eAAe;MACf,oBAAoB;MACpB,aAAa;CAClB",file:"commonProblems.vue",sourcesContent:["\n.edit-box[data-v-13fcc428] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n}\n.edit-box .content[data-v-13fcc428] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    width: 60%;\n    max-width: 600px;\n}\n.edit-box .content .submit[data-v-13fcc428] {\n      display: block;\n      margin: 20px auto 0;\n      width: 200px;\n}\n"],sourceRoot:""}])},xrCJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),o=n("Xxa5"),s=n.n(o),r=n("Gu7T"),l=n.n(r),c=n("exGp"),d=n.n(c),u=n("gRE1"),f=n.n(u),p=n("HNhu"),h={data:function(){return{search:"",loading:!0,allList:[],list:[],Page:1,PageSize:10,Info:{name:"",content:""},isShow:!1}},created:function(){this.getList()},methods:{handleSizeChange:function(t){this.PageSize=t},handleCurrentChange:function(t){this.Page=t},searching:function(){var t=this;this.Page=1,this.list=this.allList.filter(function(e){return f()(e).some(function(e){return(e+="").includes(t.search)})})},getList:function(){var t=this;return d()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,p.default.getList();case 3:t.list=e.sent,t.allList=[].concat(l()(t.list)),t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},hide:function(){this.Info={name:"",content:""},this.isShow=!1},edit:function(t){var e=t.name,n=t.content,a=t.id;this.Info={name:e,content:n,id:a},this.isShow=!0},saveRemark:function(){var t=this,e=i()({},this.Info);e.uid=this.$store.state.Login.UserInfo.id,p.default.saveAndUpdate(e).then(function(e){t.hide(),t.$message.success("保存成功"),t.getList()})},deleteById:function(t){var e=this;this.$confirm("确认删除该问题吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p.default.deleteById(t).then(function(t){e.$message.success("删除成功"),e.getList()})})}},computed:{showList:function(){return this.list.slice((this.Page-1)*this.PageSize,this.Page*this.PageSize)}}},m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commonProblems"},[n("h3",[t._v("常见问题")]),t._v(" "),n("el-card",{staticClass:"search-box"},[n("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(e){return t.searching(e)}},model:{value:t.search,callback:function(e){t.search="string"==typeof e?e.trim():e},expression:"search"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.searching}},[t._v("搜索")]),t._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-plus"},on:{click:function(e){t.isShow=!0}}},[t._v("新增")])],1),t._v(" "),n("el-card",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.showList,border:"","element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",stripe:!0}},[n("el-table-column",{attrs:{prop:"name",label:"标题",width:"260"}}),t._v(" "),n("el-table-column",{attrs:{prop:"content",label:"回答"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){t.edit(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.deleteById(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"block",staticStyle:{"margin-top":"10px"}},[n("el-pagination",{attrs:{"current-page":t.Page,"page-sizes":[10,30,50,100],"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.list.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),t._v(" "),t.isShow?n("div",{staticClass:"edit-box"},[n("el-card",{staticClass:"content"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.Info.id?"编辑":"新增")+"常见问题")]),t._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:t.hide}},[t._v("取消")])],1),t._v(" "),n("el-form",{ref:"form",attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"标题:"}},[n("el-input",{model:{value:t.Info.name,callback:function(e){t.$set(t.Info,"name",e)},expression:"Info.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"\t回答内容:"}},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:10}},model:{value:t.Info.content,callback:function(e){t.$set(t.Info,"content",e)},expression:"Info.content"}})],1)],1),t._v(" "),n("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:t.saveRemark}},[t._v("保存")])],1)],1):t._e()],1)};m._withStripped=!0;var g={render:m,staticRenderFns:[]},A=g;var v=!1;var b=n("VU/8")(h,A,!1,function(t){v||n("4rco")},"data-v-13fcc428",null);b.options.__file="src/pages/love/commonProblems.vue";e.default=b.exports}});