webpackJsonp([13],{KlO6:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=i("Xxa5"),o=i.n(a),s=i("exGp"),n=i.n(s),l=i("Zx67"),c=i.n(l),m=i("Zrlr"),p=i.n(m),f=i("wxAW"),d=i.n(f),u=i("zwoO"),v=i.n(u),g=i("Pf15"),b=i.n(g),y=i("c+8m"),k=i.n(y),_=i("1Sv2"),x=(i("yjsr"),i("J4ec")),h=i("NfLi"),w=(i("o8GX"),i("2UfB")),R=k()({components:{editor:h.a,uploadImg:w.a},props:{id:0}})(r=function(e){function t(){var e,i,r,a;p()(this,t);for(var o=arguments.length,s=Array(o),n=0;n<o;n++)s[n]=arguments[n];return i=r=v()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(s))),r.form={id:0,activitiesContent:"",activitieName:"",activitiesAddress:"",activitiesCount:"",pictureId:0,keyWords:"",description:"",releaseFlag:0,activitiesState:0,tab_id:"",startTime:"",endTime:"",stickFlag:1,gwRegistrationProperty:{age:1,company:1,email:1,mobile:1,name:1,position:1,sex:1}},r.taboptions=[],r.pickerOptions={disabledDate:function(e){return e.getTime()<Date.now()-864e5}},r.pickerOptions1={disabledDate:function(e){return e.getTime()<Date.now()-864e5}},r.rules={activitieName:[{required:!0,message:"请输入名称",trigger:"blur"}],tab_id:[{required:!0,message:"请选择类型",trigger:"change"}],datetime:[{validator:r.validateDatetimeRange,trigger:"blur"}],activitiesCount:[{required:!0,message:"请输入报名上限",trigger:"change"},{type:"number",message:"必须为数字值",transform:function(e){}}],activitiesAddress:[{required:!0,message:"请输入活动地址",trigger:"change"}]},a=i,v()(r,a)}return b()(t,e),d()(t,[{key:"getAvatar",value:function(e){this.form.pictureId=e}},{key:"created",value:function(){this.getOptions(),this.id>0&&this.getDate(this.id)}},{key:"onSubmit",value:function(e){var t,i=this;this.$refs[e].validate((t=n()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return i.form.activitiesContent=i.$refs.editor.getUEContent(),e.next=4,x.default.activities.saveActivities(i.form);case 4:return e.sent,e.next=7,i.$message.success("修改成功");case 7:i.$router.push({name:"activitieslist"});case 8:case"end":return e.stop()}},e,i)})),function(e){return t.apply(this,arguments)}))}},{key:"getOptions",value:function(){var e=n()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.default.contentLabel.getList(!0);case 2:this.taboptions=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDate",value:function(){var e=n()(o.a.mark(function e(t){var i,r,a,s,n,l,c,m,p,f,d,u,v,g,b,y,k,_,h,w,R,P,$,F;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.default.activities.getActivities(t);case 2:i=e.sent,r=i.data,a=r.activitiesContent,s=r.activitieName,n=r.activitiesAddress,l=r.activitiesCount,c=r.pictureId,m=r.keyWords,p=r.description,f=r.releaseFlag,d=r.activitiesState,r.gwTab,u=r.startTime,v=r.endTime,g=r.stickFlag,b=r.tab_id,y=i.data2,k=y.age,_=y.email,h=y.company,w=y.mobile,R=y.name,P=y.position,$=y.sex,F=y.activityId,this.form={id:t,activitiesContent:a,activitieName:s,activitiesAddress:n,activitiesCount:l,pictureId:c,keyWords:m,description:p,releaseFlag:f,activitiesState:d,startTime:u,endTime:v,stickFlag:g,tab_id:b,gwRegistrationProperty:{age:k,company:h,email:_,mobile:w,name:R,position:P,sex:$,activityId:F,id:i.data2.id}};case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(_.a))||r,P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{directives:[{name:"title",rawName:"v-title"}]},[e._v(e._s(e.id?"编辑":"新增")+"活动管理")]),e._v(" "),i("h3",[e._v(e._s(e.id?"编辑":"新增")+"活动管理")]),e._v(" "),i("el-card",[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"类型",prop:"tabId"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.tab_id,callback:function(t){e.$set(e.form,"tab_id",t)},expression:"form.tab_id"}},e._l(e.taboptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.tabName,value:e.id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"banner展示",prop:"pictureId"}},[i("div",{staticStyle:{width:"100px",height:"100px"}},[i("upload-img",{attrs:{isShow:!0,imgId:e.form.pictureId},on:{getUploadImg:e.getAvatar}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"活动时间",prop:"datetime"}},[i("el-date-picker",{attrs:{"picker-options":e.pickerOptions,editable:!1,type:"datetime",placeholder:"选择开始时间"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}}),e._v("\n        至\n        "),i("el-date-picker",{attrs:{editable:!1,"picker-options":e.pickerOptions1,type:"datetime",placeholder:"选择结束时间"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"报名上限",prop:"activitiesCount"}},[i("el-input",{attrs:{type:"number"},model:{value:e.form.activitiesCount,callback:function(t){e.$set(e.form,"activitiesCount",t)},expression:"form.activitiesCount"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"地址",prop:"activitiesAddress"}},[i("el-input",{model:{value:e.form.activitiesAddress,callback:function(t){e.$set(e.form,"activitiesAddress",t)},expression:"form.activitiesAddress"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"关键字",prop:"keyWords"}},[i("el-input",{model:{value:e.form.keyWords,callback:function(t){e.$set(e.form,"keyWords",t)},expression:"form.keyWords"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"标题",prop:"activitieName"}},[i("el-input",{model:{value:e.form.activitieName,callback:function(t){e.$set(e.form,"activitieName",t)},expression:"form.activitieName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"description"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"活动内容",prop:"activitiesContent"}},[i("editor",{ref:"editor",staticClass:"editor",attrs:{msg:e.form.activitiesContent}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否开放"}},[[i("el-radio",{attrs:{label:0},model:{value:e.form.releaseFlag,callback:function(t){e.$set(e.form,"releaseFlag",t)},expression:"form.releaseFlag"}},[e._v("开放")]),e._v(" "),i("el-radio",{attrs:{label:1},model:{value:e.form.releaseFlag,callback:function(t){e.$set(e.form,"releaseFlag",t)},expression:"form.releaseFlag"}},[e._v("不开放")])]],2),e._v(" "),i("el-form-item",{attrs:{label:"是否置顶"}},[[i("el-radio",{attrs:{label:0},model:{value:e.form.stickFlag,callback:function(t){e.$set(e.form,"stickFlag",t)},expression:"form.stickFlag"}},[e._v("置顶")]),e._v(" "),i("el-radio",{attrs:{label:1},model:{value:e.form.stickFlag,callback:function(t){e.$set(e.form,"stickFlag",t)},expression:"form.stickFlag"}},[e._v("不置顶")])]],2),e._v(" "),i("el-form-item",{attrs:{label:"报名编辑表"}},[[i("el-checkbox",{attrs:{label:"姓名",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.name},model:{value:e.form.gwRegistrationProperty.name,callback:function(t){e.$set(e.form.gwRegistrationProperty,"name",t)},expression:"form.gwRegistrationProperty.name"}}),e._v(" "),i("el-checkbox",{attrs:{label:"公司名称",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.company},model:{value:e.form.gwRegistrationProperty.company,callback:function(t){e.$set(e.form.gwRegistrationProperty,"company",t)},expression:"form.gwRegistrationProperty.company"}}),e._v(" "),i("el-checkbox",{attrs:{label:"手机号",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.mobile},model:{value:e.form.gwRegistrationProperty.mobile,callback:function(t){e.$set(e.form.gwRegistrationProperty,"mobile",t)},expression:"form.gwRegistrationProperty.mobile"}}),e._v(" "),i("el-checkbox",{attrs:{label:"邮箱",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.email},model:{value:e.form.gwRegistrationProperty.email,callback:function(t){e.$set(e.form.gwRegistrationProperty,"email",t)},expression:"form.gwRegistrationProperty.email"}}),e._v(" "),i("el-checkbox",{attrs:{label:"职位",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.position},model:{value:e.form.gwRegistrationProperty.position,callback:function(t){e.$set(e.form.gwRegistrationProperty,"position",t)},expression:"form.gwRegistrationProperty.position"}}),e._v(" "),i("el-checkbox",{attrs:{label:"性别",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.sex},model:{value:e.form.gwRegistrationProperty.sex,callback:function(t){e.$set(e.form.gwRegistrationProperty,"sex",t)},expression:"form.gwRegistrationProperty.sex"}}),e._v(" "),i("el-checkbox",{attrs:{label:"年龄",border:"","true-label":1,"false-label":0,checked:1==e.form.gwRegistrationProperty.age},model:{value:e.form.gwRegistrationProperty.age,callback:function(t){e.$set(e.form.gwRegistrationProperty,"age",t)},expression:"form.gwRegistrationProperty.age"}})]],2),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v(e._s(e.id?"保存":"立即创建"))]),e._v(" "),i("el-button",{on:{click:function(t){e.$router.go(-1)}}},[e._v("取消")])],1)],1)],1)],1)};P._withStripped=!0;var $={render:P,staticRenderFns:[]},F=$;var C=!1;var T=i("VU/8")(R,F,!1,function(e){C||i("vZuS")},"data-v-11cae548",null);T.options.__file="src/pages/activities/modify.vue";t.default=T.exports},agYy:function(e,t,i){(e.exports=i("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"modify.vue",sourceRoot:""}])},vZuS:function(e,t,i){var r=i("agYy");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);i("rjj0")("598d8832",r,!1,{})},yjsr:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=[{id:0,name:"进行中"},{id:1,name:"已结束"}]}});