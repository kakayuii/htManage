webpackJsonp([22],{APHx:function(e,t,i){(e.exports=i("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"list.vue",sourceRoot:""}])},Hvzj:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n,r,o=i("K6ED"),s=i.n(o),l=i("Xxa5"),c=i.n(l),u=i("exGp"),d=i.n(u),h=i("Zx67"),p=i.n(h),v=i("Zrlr"),g=i.n(v),f=i("wxAW"),y=i.n(f),m=i("zwoO"),b=i.n(m),_=i("Pf15"),w=i.n(_),k=i("443i"),x=i("1Sv2"),z=i("8pDE"),P=i("J4ec");var C,S,T,j,L,O,A=(a=Object(k.c)("search.keyword"),Object(k.a)((r=function(e){function t(){var e,i,a,n;g()(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=a=b()(this,(e=t.__proto__||p()(t)).call.apply(e,[this].concat(o))),a.loading=!0,a.list=[],a.date=[],a.Page=1,a.PageSize=10,a.search={keyword:""},n=i,b()(a,n)}return w()(t,e),y()(t,[{key:"created",value:function(){void 0!=this.getPageCache(this.modPath)&&(this.search.keyword=this.getPageCache(this.modPath).keyword),this.getList()}},{key:"watchCount",value:function(e,t){this.search.keyword=e,this.setPageCache(this.modPath,this.search)}},{key:"getList",value:function(){var e=d()(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,P.default.topic.TopicList();case 3:t=e.sent,this.loading=!1,this.date=t;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSizeChange",value:function(e){this.PageSize=e}},{key:"handleCurrentChange",value:function(e){this.Page=e}},{key:"gotoAdd",value:function(){this.$router.push({name:"topicadd",params:{}})}},{key:"gotoModify",value:function(e){this.$router.push({name:"topicmodify",params:{id:e}})}},{key:"delDomain",value:function(e){var t=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(d()(c.a.mark(function i(){return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,P.default.topic.delTopic({id:e});case 2:return i.sent,i.next=5,t.$message("删除成功");case 5:t.getList();case 6:case"end":return i.stop()}},i,t)})))}},{key:"showList",get:function(){if(this.date.length>0&&""!=this.search.keyword){this.list=[];for(var e=0;e<this.date.length;e++){var t=this.date[e];Object(z.b)(t.topicTitle,this.search.keyword)&&this.list.push(t)}}else this.list=this.date;return this.list.slice((this.Page-1)*this.PageSize,this.Page*this.PageSize)}}]),t}(x.a),C=r.prototype,S="watchCount",T=[a],j=s()(r.prototype,"watchCount"),L=r.prototype,O={},Object.keys(j).forEach(function(e){O[e]=j[e]}),O.enumerable=!!O.enumerable,O.configurable=!!O.configurable,("value"in O||O.initializer)&&(O.writable=!0),O=T.slice().reverse().reduce(function(e,t){return t(C,S,e)||e},O),L&&void 0!==O.initializer&&(O.value=O.initializer?O.initializer.call(L):void 0,O.initializer=void 0),void 0===O.initializer&&(Object.defineProperty(C,S,O),O=null),n=r))||n),F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{directives:[{name:"title",rawName:"v-title"}]},[e._v("话题管理")]),e._v(" "),i("h3",[e._v("话题管理")]),e._v(" "),i("el-card",{staticClass:"search-box"},[i("el-input",{staticStyle:{width:"260px",display:"inline-block"},attrs:{placeholder:"请输入搜索内容"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}}),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v("搜索")]),e._v(" "),i("el-button",{attrs:{type:"danger",icon:"el-icon-plus"},on:{click:e.gotoAdd}},[e._v("新增")])],1),e._v(" "),i("el-card",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.showList,border:"","element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",stripe:!0,width:"100%"}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}),e._v(" "),i("el-table-column",{attrs:{prop:"topicTitle",label:"标题","min-width":"200"}}),e._v(" "),i("el-table-column",{attrs:{prop:"gwTab.tabName",label:"标签名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"releaseFlag",label:"是否发布"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("releaseFlagToText")(t.row.releaseFlag))+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"creationTime",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e._f("timeFilter")(t.row.creationTime))+"\n        ")]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(i){e.gotoModify(t.row.id)}}},[e._v("编辑")]),e._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(i){e.delDomain(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":e.Page,"page-sizes":[10,30,50,100],"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.list.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)};F._withStripped=!0;var $={render:F,staticRenderFns:[]},D=$;var E=!1;var H=i("VU/8")(A,D,!1,function(e){E||i("L1kt")},"data-v-9770b7fc",null);H.options.__file="src/pages/topic/list.vue";t.default=H.exports},L1kt:function(e,t,i){var a=i("APHx");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("rjj0")("bb1c1212",a,!1,{})}});