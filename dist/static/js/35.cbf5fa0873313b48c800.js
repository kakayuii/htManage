webpackJsonp([35],{"H/lQ":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=t("Xxa5"),o=t.n(i),u=t("exGp"),a=t.n(u),s=t("Zx67"),c=t.n(s),l=t("Zrlr"),f=t.n(l),d=t("wxAW"),m=t.n(d),p=t("zwoO"),h=t.n(p),v=t("Pf15"),_=t.n(v),y=t("c+8m"),k=t.n(y),b=t("1Sv2"),x=t("J4ec"),g=k()({props:{id:0}})(r=function(e){function n(){var e,t,r,i;f()(this,n);for(var o=arguments.length,u=Array(o),a=0;a<o;a++)u[a]=arguments[a];return t=r=h()(this,(e=n.__proto__||c()(n)).call.apply(e,[this].concat(u))),r.form={roleId:0,menuids:[]},r.Menus=[],r.MenuList={},i=t,h()(r,i)}return _()(n,e),m()(n,[{key:"onSubmit",value:function(){var e=a()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.form.menuids=this.Menus,e.next=3,x.default.role.saveMenu(this.form);case 3:e.sent,this.$message.success("新增成功"),this.$router.push({name:"gwrolelist",params:{}});case 6:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()},{key:"onBack",value:function(){this.$router.push({name:"gwrolelist",params:{}})}},{key:"created",value:function(){this.getDate(this.id)}},{key:"buildTree",value:function(e){var n=this,t=e.filter(function(e){return 0==e.parentId});return t.forEach(function(t){t.child=e.filter(function(e){return t.menuId==e.parentId}),t.child.forEach(function(t){t.child=e.filter(function(e){return t.menuId==e.parentId}),t.child.forEach(function(e){1==e.menuNameId&&n.Menus.push(e.menuId)})})}),t}},{key:"getDate",value:function(){var e=a()(o.a.mark(function e(n){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.default.role.getMenuByRole(n);case 2:t=e.sent,this.MenuList=this.buildTree(t),this.form.roleId=n;case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()}]),n}(b.a))||r,w=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",[t("div",{directives:[{name:"title",rawName:"v-title"}]},[e._v("菜单角色管理")]),e._v(" "),t("el-card",[t("h3",[e._v("权限选择")]),e._v(" "),t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[e._l(e.MenuList,function(n,r){return[t("h4",[e._v(e._s(n.name))]),e._v(" "),e._l(n.child,function(n,r){return t("el-form-item",{key:r,attrs:{label:n.name}},[t("div",[t("el-checkbox-group",{model:{value:e.Menus,callback:function(n){e.Menus=n},expression:"Menus"}},e._l(n.child,function(n,r){return t("el-checkbox",{key:r,attrs:{label:n.menuId,border:""}},[e._v(e._s(n.name)+"\n              ")])}))],1)])})]}),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(n){e.onSubmit("form")}}},[e._v("修改")]),e._v(" "),t("el-button",{on:{click:function(n){e.onBack()}}},[e._v("取消")])],1)],2)],1)],1)};w._withStripped=!0;var M={render:w,staticRenderFns:[]},I=M;var Z=!1;var A=t("VU/8")(g,I,!1,function(e){Z||t("aKVA")},"data-v-323589a3",null);A.options.__file="src/pages/rolemng/gwrolemodify.vue";n.default=A.exports},"P+rZ":function(e,n,t){(e.exports=t("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"gwrolemodify.vue",sourceRoot:""}])},aKVA:function(e,n,t){var r=t("P+rZ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);t("rjj0")("48f0294b",r,!1,{})}});