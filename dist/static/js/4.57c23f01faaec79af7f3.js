webpackJsonp([4],{"9zt5":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\n.edit-box[data-v-599b2fb6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n}\n.edit-box .content[data-v-599b2fb6] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    width: 60%;\n    max-width: 600px;\n}\n.edit-box .content .submit[data-v-599b2fb6] {\n      /*display: block;*/\n      margin: 20px auto 0;\n      width: 200px;\n}\n","",{version:3,sources:["D:/git/vue-manage/src/pages/love/questionsTag.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,UAAU;EACV,UAAU;EACV,+BAA+B;EAC/B,WAAW;CACZ;AACD;IACI,mBAAmB;IACnB,UAAU;IACV,SAAS;IACT,yCAAyC;YACjC,iCAAiC;IACzC,WAAW;IACX,iBAAiB;CACpB;AACD;MACM,mBAAmB;MACnB,oBAAoB;MACpB,aAAa;CAClB",file:"questionsTag.vue",sourcesContent:["\n.edit-box[data-v-599b2fb6] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  background: rgba(0, 0, 0, 0.6);\n  z-index: 2;\n}\n.edit-box .content[data-v-599b2fb6] {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    width: 60%;\n    max-width: 600px;\n}\n.edit-box .content .submit[data-v-599b2fb6] {\n      /*display: block;*/\n      margin: 20px auto 0;\n      width: 200px;\n}\n"],sourceRoot:""}])},AZWh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),i=n.n(a),s=n("exGp"),o=n.n(s),r=n("2I07"),l={props:{title:{type:String,default:"医疗相关"},type:{type:Number,default:1}},data:function(){return{loading:!0,list:[],Page:1,PageSize:10,user:["用户","管理员","运营","医生/专业机构"]}},created:function(){this.getList()},methods:{handleSizeChange:function(e){this.PageSize=e},handleCurrentChange:function(e){this.Page=e},getList:function(){var e=this;return o()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(r.listLoveTag)(e.type);case 3:e.list=t.sent,e.loading=!1;case 5:case"end":return t.stop()}},t,e)}))()},deleteLoveTag:function(e,t){var n=this;this.$confirm("确认删除该标签吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(r.deleteLoveTag)(e).then(function(e){n.$message.success("删除成功"),n.getList(t)})})},handleCheckedTagsChange:function(e){var t=this,n=this.list.filter(function(t){return t.id==e})[0].isSee;Object(r.unSeeLoveTag)([e],Number(n)).then(function(e){t.$message.success("操作成功")})}},computed:{showList:function(){return this.list.slice((this.Page-1)*this.PageSize,this.Page*this.PageSize)}}},c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tag-list"},[n("el-card",[n("h3",[e._v(e._s(e.title))]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.showList,border:"","element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",stripe:!0}},[n("el-table-column",{attrs:{prop:"id",label:"序号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"tagName",label:"标签名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"useFrequency",label:"使用次数"}}),e._v(" "),n("el-table-column",{attrs:{prop:"creationUser",label:"创建者"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(e.user[t.row.creationUser])+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"creationTime",label:"创建时间"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(n){e.deleteLoveTag(t.row.id,1)}}},[e._v("删除\n          ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"可选择",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{checked:t.row.isSee},on:{change:function(n){e.handleCheckedTagsChange(t.row.id)}},model:{value:t.row.isSee,callback:function(n){e.$set(t.row,"isSee",n)},expression:"scope.row.isSee"}})]}}])})],1),e._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.Page,"page-sizes":[10,30,50,100],"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.list.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)};c._withStripped=!0;var u={render:c,staticRenderFns:[]},d=u;var p=!1;var g=n("VU/8")(l,d,!1,function(e){p||n("wxlx")},"data-v-3c5db048",null);g.options.__file="src/pages/love/components/tagList.vue";var f={components:{tagList:g.exports},data:function(){return{isShow:!1,form:{tagName:"",type:1},tagTypes:[{name:"医疗",id:1},{name:"照护",id:2}]}},methods:{hide:function(){this.form={tagName:"",type:1},this.isShow=!1},saveRemark:function(){var e,t=this;this.$refs.form.validate((e=o()(i.a.mark(function e(n){var a,s,o,l,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n&&(a=t.form,s=a.tagName,o=a.type,l={tagName:s,type:o},c=t.$store.state.Login.UserInfo.id,Object(r.saveLoveTag)(l,c).then(function(e){t.hide(),t.$message.success("保存成功");var n=1==o?"yiliao":"zhaohu";t.$refs[n].getList()}));case 1:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}}},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"domain-list"},[n("h3",[e._v("标签管理")]),e._v(" "),n("el-card",{staticStyle:{"margin-bottom":"10px"}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-plus"},on:{click:function(t){e.isShow=!0}}},[e._v("新增")])],1),e._v(" "),n("tag-list",{ref:"yiliao"}),e._v(" "),n("tag-list",{ref:"zhaohu",attrs:{type:2,title:"照护相关"}}),e._v(" "),e.isShow?n("div",{staticClass:"edit-box"},[n("el-card",{staticClass:"content"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("新增标签")])]),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"标签名称:",prop:"tagName",rules:[{required:!0,message:"请输入标签名称",trigger:"blur"}]}},[n("el-input",{model:{value:e.form.tagName,callback:function(t){e.$set(e.form,"tagName",t)},expression:"form.tagName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型:",prop:e.type,rules:[{required:!0,message:"请选择类型",trigger:"blur"}]}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.tagTypes,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),n("el-row",{staticClass:"submit"},[n("el-button",{attrs:{type:"primary"},on:{click:e.saveRemark}},[e._v("新增")]),e._v(" "),n("el-button",{on:{click:e.hide}},[e._v("取消")])],1)],1)],1)],1):e._e()],1)};m._withStripped=!0;var v={render:m,staticRenderFns:[]},h=v;var b=!1;var A=n("VU/8")(f,h,!1,function(e){b||n("aCxI")},"data-v-599b2fb6",null);A.options.__file="src/pages/love/questionsTag.vue";t.default=A.exports},ISi4:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"tagList.vue",sourceRoot:""}])},aCxI:function(e,t,n){var a=n("9zt5");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("71e8eb94",a,!1,{})},wxlx:function(e,t,n){var a=n("ISi4");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("7d1b5632",a,!1,{})}});