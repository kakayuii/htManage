webpackJsonp([25],{BrvQ:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"domainlist.vue",sourceRoot:""}])},pkhG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("gRE1"),i=n.n(a),o=n("Xxa5"),r=n.n(o),l=n("Gu7T"),s=n.n(l),c=n("exGp"),u=n.n(c),d=(n("c+8m"),n("1Sv2"),n("8pDE"),n("J4ec")),p={data:function(){return{loading:!0,allList:[],list:[],Page:1,PageSize:10,keyword:"",total:0}},created:function(){this.getList()},methods:{getList:function(){var e=this;return u()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,d.default.love.DomainList();case 3:(n=t.sent).forEach(function(e,t){e.numberIndex=t}),e.list=n,e.total=n.length-1,e.allList=[].concat(s()(n)),e.loading=!1;case 9:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.PageSize=e},handleCurrentChange:function(e){this.Page=e},gotoAdd:function(){this.$router.push({name:"lovedomainadd",params:{}})},gotoModify:function(e){this.$router.push({name:"lovedomainmodify",params:{id:e}})},delDomain:function(e){var t=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(u()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.default.love.delDomain({id:e});case 2:n.sent,t.$message.success("删除成功"),t.getList();case 5:case"end":return n.stop()}},n,t)})))},upOrDownDomain:function(e,t){var n=this;d.default.love.upOrDownDomain({type:e,domainId:t}).then(function(e){n.$message.success("顺序更改成功"),n.getList()})},searching:function(){var e=this;this.Page=1,this.list=this.allList.filter(function(t){return i()(t).some(function(t){return(t+="").includes(e.keyword)})})}},computed:{showList:function(){return this.list.slice((this.Page-1)*this.PageSize,this.Page*this.PageSize)}}},m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{directives:[{name:"title",rawName:"v-title"}]},[e._v("爱记忆门店管理")]),e._v(" "),n("h3",[e._v("爱记忆门店管理")]),e._v(" "),n("el-card",{staticClass:"search-box"},[n("el-input",{staticStyle:{width:"360px"},attrs:{placeholder:"请输入搜索内容"},nativeOn:{keyup:function(t){e.searching()}},model:{value:e.keyword,callback:function(t){e.keyword="string"==typeof t?t.trim():t},expression:"keyword"}}),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searching()}}},[e._v("搜索")]),e._v(" "),n("el-button",{attrs:{type:"danger",icon:"el-icon-plus"},on:{click:function(t){e.gotoAdd()}}},[e._v("新增")])],1),e._v(" "),n("el-card",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.showList,border:"","element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",stripe:!0,width:"100%"}},[n("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{prop:"domainName",label:"名称","min-width":"160"}}),e._v(" "),n("el-table-column",{attrs:{prop:"typeName",label:"类型"}}),e._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址"}}),e._v(" "),n("el-table-column",{attrs:{prop:"telephone",label:"电话"}}),e._v(" "),n("el-table-column",{attrs:{prop:"website",label:"网站"}}),e._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"新增时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("timeFilter")(t.row.createTime))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"tagName",label:"标签"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(n){e.gotoModify(t.row.id)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(n){e.delDomain(t.row.id)}}},[e._v("删除")]),e._v(" "),t.row.numberIndex>0&&""==e.keyword?n("i",{staticClass:"el-icon-caret-top ",on:{click:function(n){e.upOrDownDomain(0,t.row.orderId)}}}):e._e(),e._v(" "),t.row.numberIndex!=e.total&&""==e.keyword?n("i",{staticClass:"el-icon-caret-bottom",on:{click:function(n){e.upOrDownDomain(1,t.row.orderId)}}}):e._e()]}}])})],1),e._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.Page,"page-sizes":[10,30,50,100],"page-size":e.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.list.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)};m._withStripped=!0;var v={render:m,staticRenderFns:[]},f=v;var g=!1;var h=n("VU/8")(p,f,!1,function(e){g||n("q5b7")},"data-v-6c0fec6a",null);h.options.__file="src/pages/love/domainlist.vue";t.default=h.exports},q5b7:function(e,t,n){var a=n("BrvQ");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("20e41a97",a,!1,{})}});