webpackJsonp([7],{"Jm+g":function(e,t,o){var r=o("s9Bn");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);o("rjj0")("68ec0c9d",r,!1,{})},NSgx:function(e,t,o){"use strict"},ToqM:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=o("Xxa5"),a=o.n(n),i=o("exGp"),l=o.n(i),s=o("Zx67"),c=o.n(s),p=o("Zrlr"),d=o.n(p),u=o("wxAW"),m=o.n(u),f=o("zwoO"),A=o.n(f),b=o("Pf15"),v=o.n(b),g=o("c+8m"),h=o.n(g),x=o("1Sv2"),k=(o("NSgx"),o("J4ec")),C=o("NfLi"),I=o("2UfB"),B=h()({components:{editor:C.a,uploadImg:I.a},props:{id:0}})(r=function(e){function t(){var e,o,r,n;d()(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=r=A()(this,(e=t.__proto__||c()(t)).call.apply(e,[this].concat(i))),r.form={id:0,topicContent:"",topicTitle:"",pictureId:0,keyWords:"",brief:"",releaseFlag:0,stickFlag:0,tabId:"",moduleId:""},r.taboptions=[],r.moduleoptions=[],r.rules={topicTitle:[{required:!0,message:"请输入名称",trigger:"blur"}],tabId:[{required:!0,message:"请选择类型",trigger:"change"}],moduleId:[{required:!0,message:"请选择类型",trigger:"change"}]},n=o,A()(r,n)}return v()(t,e),m()(t,[{key:"created",value:function(){this.getDate(this.id)}},{key:"getDate",value:function(){var e=l()(a.a.mark(function e(t){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.default.topic.getTopic(t);case 2:o=e.sent,this.taboptions=o.tabList,this.moduleoptions=o.moduleList,this.form={id:o.id,topicContent:o.topicContent,topicTitle:o.topicTitle,pictureId:o.pictureId,keyWords:o.keyWords,brief:o.brief,releaseFlag:o.releaseFlag,stickFlag:o.stickFlag,tabId:o.tabId,moduleId:o.moduleId};case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAvatar",value:function(e){this.form.pictureId=e}},{key:"onSubmit",value:function(e){var t,o=this;this.$refs[e].validate((t=l()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return o.form.topicContent=o.$refs.editor.getUEContent(),e.next=4,k.default.topic.saveTopic(o.form);case 4:return e.sent,e.next=7,o.$message("修改成功");case 7:o.$router.push({name:"topiclist",params:{}}),e.next=11;break;case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,o)})),function(e){return t.apply(this,arguments)}))}},{key:"onBack",value:function(){this.$router.push({name:"topiclist",params:{}})}}]),t}(x.a))||r,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{directives:[{name:"title",rawName:"v-title"}]},[e._v("话题管理")]),e._v(" "),o("el-card",[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"模块",prop:"moduleId"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.moduleId,callback:function(t){e.$set(e.form,"moduleId",t)},expression:"form.moduleId"}},e._l(e.moduleoptions,function(e){return o("el-option",{key:e.id,attrs:{label:e.moduleName,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"类型",prop:"tabId"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.tabId,callback:function(t){e.$set(e.form,"tabId",t)},expression:"form.tabId"}},e._l(e.taboptions,function(e){return o("el-option",{key:e.id,attrs:{label:e.tabName,value:e.id}})}))],1),e._v(" "),o("el-form-item",{attrs:{label:"banner展示",prop:"pictureId"}},[o("div",{staticStyle:{width:"100px",height:"100px"}},[o("upload-img",{attrs:{isShow:!0,imgId:e.form.pictureId},on:{getUploadImg:e.getAvatar}})],1)]),e._v(" "),o("el-form-item",{attrs:{label:"话题内容",prop:"topicContent"}},[o("editor",{ref:"editor",staticClass:"editor",attrs:{msg:e.form.topicContent}})],1),e._v(" "),o("el-form-item",{attrs:{label:"关键字",prop:"keyWords"}},[o("el-input",{model:{value:e.form.keyWords,callback:function(t){e.$set(e.form,"keyWords",t)},expression:"form.keyWords"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"标题",prop:"topicTitle"}},[o("el-input",{model:{value:e.form.topicTitle,callback:function(t){e.$set(e.form,"topicTitle",t)},expression:"form.topicTitle"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"简短说明",prop:"brief"}},[o("el-input",{attrs:{type:"textarea"},model:{value:e.form.brief,callback:function(t){e.$set(e.form,"brief",t)},expression:"form.brief"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否开放"}},[[o("el-radio",{attrs:{label:0},model:{value:e.form.releaseFlag,callback:function(t){e.$set(e.form,"releaseFlag",t)},expression:"form.releaseFlag"}},[e._v("开放")]),e._v(" "),o("el-radio",{attrs:{label:1},model:{value:e.form.releaseFlag,callback:function(t){e.$set(e.form,"releaseFlag",t)},expression:"form.releaseFlag"}},[e._v("不开放")])]],2),e._v(" "),o("el-form-item",{attrs:{label:"是否置顶"}},[[o("el-radio",{attrs:{label:0},model:{value:e.form.stickFlag,callback:function(t){e.$set(e.form,"stickFlag",t)},expression:"form.stickFlag"}},[e._v("置顶")]),e._v(" "),o("el-radio",{attrs:{label:1},model:{value:e.form.stickFlag,callback:function(t){e.$set(e.form,"stickFlag",t)},expression:"form.stickFlag"}},[e._v("不置顶")])]],2),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("修改")]),e._v(" "),o("el-button",{on:{click:function(t){e.onBack()}}},[e._v("取消")])],1)],1)],1)],1)};_._withStripped=!0;var y={render:_,staticRenderFns:[]},w=y;var F=!1;var $=o("VU/8")(B,w,!1,function(e){F||o("Jm+g")},"data-v-32563b1e",null);$.options.__file="src/pages/topic/modify.vue";t.default=$.exports},s9Bn:function(e,t,o){(e.exports=o("FZ+f")(!0)).push([e.i,'\n@charset "UTF-8";\n/*图片上传*/\n.upload-box[data-v-32563b1e] {\n  width: 200px;\n  height: 200px;\n  line-height: 200px;\n  position: relative;\n  border: 1px dashed #ccc;\n  font-size: 50px;\n  text-align: center;\n  overflow: hidden;\n}\n.upload-box img[data-v-32563b1e] {\n    width: 100%;\n    height: 100%;\n}\n.upload-box input[data-v-32563b1e] {\n    position: absolute;\n    top: -10%;\n    left: 0;\n    width: 200%;\n    height: 200%;\n    font-size: 0;\n    cursor: pointer;\n    opacity: 0;\n}\n/*.editor{*/\n/*height:400px;*/\n/*}*/\n',"",{version:3,sources:["D:/git/vue-manage/src/pages/topic/modify.vue"],names:[],mappings:";AACA,iBAAiB;AACjB,QAAQ;AACR;EACE,aAAa;EACb,cAAc;EACd,mBAAmB;EACnB,mBAAmB;EACnB,wBAAwB;EACxB,gBAAgB;EAChB,mBAAmB;EACnB,iBAAiB;CAClB;AACD;IACI,YAAY;IACZ,aAAa;CAChB;AACD;IACI,mBAAmB;IACnB,UAAU;IACV,QAAQ;IACR,YAAY;IACZ,aAAa;IACb,aAAa;IACb,gBAAgB;IAChB,WAAW;CACd;AACD,YAAY;AACZ,iBAAiB;AACjB,KAAK",file:"modify.vue",sourcesContent:['\n@charset "UTF-8";\n/*图片上传*/\n.upload-box[data-v-32563b1e] {\n  width: 200px;\n  height: 200px;\n  line-height: 200px;\n  position: relative;\n  border: 1px dashed #ccc;\n  font-size: 50px;\n  text-align: center;\n  overflow: hidden;\n}\n.upload-box img[data-v-32563b1e] {\n    width: 100%;\n    height: 100%;\n}\n.upload-box input[data-v-32563b1e] {\n    position: absolute;\n    top: -10%;\n    left: 0;\n    width: 200%;\n    height: 200%;\n    font-size: 0;\n    cursor: pointer;\n    opacity: 0;\n}\n/*.editor{*/\n/*height:400px;*/\n/*}*/\n'],sourceRoot:""}])}});